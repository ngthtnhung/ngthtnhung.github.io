// Language translations
const translations = {
    en: {
        // Navbar
        navHome: "Home",
        navAbout: "About",
        navSkills: "Skills",
        navProjects: "Projects",
        navCertificates: "Certificates",
        navContests: "Contests",
        navContact: "Contact",
        
        // Hero Section
        heroBadge: "BUSINESS DATA ANALYST PORTFOLIO",
        heroName1: "NGUYEN THI ",
        heroName2: "TUYET NHUNG",
        heroTagline: "Transforming data into decisions,<br>bridging business with actionable insights.",
        
        // About Section
        aboutBadge: "About Me",
        aboutGreeting: "Hello,<br>I'm <span class=\"highlight\">Nhung!</span>",
        aboutDescription: "I am an aspiring <span class=\"highlight-text\">Business Data Analyst</span> with a strong foundation in IT and a passion for transforming raw data into practical, business-ready insights. My approach blends <span class=\"highlight-text\">analytical thinking</span> with <span class=\"highlight-text\">product-oriented problem solving</span>: from understanding user needs, designing data-driven solutions, to visualizing insights through dashboards and clear storytelling. With experience in academic projects across <span class=\"highlight-text\">AI, data mining, and financial analytics</span>, I focus on bridging the gap between technical data work and strategic business decisions. I aim to become a versatile BDA who not only understands the data, but also understands the business behind it.",
        btnProjects: "Projects",
        btnDownloadCV: "Download CV",
        
        // Skills Section
        skillsBadge: "Technical Skills",
        skillsTitle1: "Programming Languages",
        skillsTitle2: "Data Analytics & Machine Learning",
        skillsTitle3: "Data Visualization & BI Tools",
        skillsTitle4: "Tools & Environment",
        
        // Projects Section
        projectsBadge: "Notable Projects",
        project1Title: "<span class=\"highlight\">CREDIT DEFAULT RISK ANALYSIS</span><br>FINANCIAL INSIGHTS DASHBOARD",
        project1Overview: "Overview",
        project1Desc: "A financial analytics project aimed at identifying key factors contributing to loan default risk. The project involved collecting and cleaning customer financial data, performing exploratory analysis, and generating actionable insights for credit evaluation improvements. Delivered an interactive dashboard summarizing default trends by income, employment type, credit history, and debt ratio.",
        project1Tools: "Tools:",
        project1Deliverables: "Deliverables / Artefacts",
        
        project2Title: "<span class=\"highlight\">E-COMMERCE CHURN PREDICTION</span><br>CUSTOMER RETENTION MODELING",
        project2Desc: "A machine learning project analyzing Gen Z e-commerce customer behavior to predict churn and inform retention strategies. Responsibilities included data collection, feature engineering, model training, evaluation, and translating insights into business recommendations.",
        
        project3Title: "<span class=\"highlight\">SMART RIDE</span><br>RIDE-SHARING PLATFORM",
        project3Desc: "A university project simulating a ride-sharing platform. Focused on business analysis and UI/UX support, creating requirements documentation, designing user stories, workflows, and mockups. Helped ensure alignment between end-user needs and system design.",
        
        btnMoreProjects: "More on GitHub →",
        
        // Certificates Section
        certificatesBadge: "Certificates",
        
        // Contests Section
        contestsBadge: "Contests",
        
        // Contact Section
        contactBadge: "Contact Info",
        contactTitle: "Let's <span class=\"highlight\">connect</span> and<br><span class=\"highlight\">work together</span>!",
        contactLabelPhone: "Phone",
        contactLabelEmail: "E-mail",
        contactLabelLinkedIn: "LinkedIn",
        contactLabelGitHub: "GitHub",
        contactPlaceholderName: "Your Name",
        contactPlaceholderEmail: "Your Email",
        contactPlaceholderMessage: "Your Message",
        btnSend: "Send Message",
        
        // Footer
        footerText: "© 2025 Nguyen Thi Tuyet Nhung. All rights reserved."
    },
    vi: {
        // Navbar
        navHome: "Trang Chủ",
        navAbout: "Về Tôi",
        navSkills: "Kỹ Năng",
        navProjects: "Dự Án",
        navCertificates: "Chứng Chỉ",
        navContests: "Cuộc Thi",
        navContact: "Liên Hệ",
        
        // Hero Section
        heroBadge: "HỒ SƠ PHÂN TÍCH DỮ LIỆU KINH DOANH",
        heroName1: "NGUYỄN THỊ ",
        heroName2: "TUYẾT NHUNG",
        heroTagline: "Chuyển đổi dữ liệu thành quyết định,<br>kết nối doanh nghiệp với những hành động thực tế.",
        
        // About Section
        aboutBadge: "Về Tôi",
        aboutGreeting: "Xin chào,<br>Tôi là <span class=\"highlight\">Nhung!</span>",
        aboutDescription: "Tôi là một <span class=\"highlight-text\">Chuyên viên Phân tích Dữ liệu Kinh doanh</span> đầy tiềm năng với nền tảng vững chắc về IT và niềm đam mê chuyển đổi dữ liệu thô thành thông tin thực tế, sẵn sàng cho doanh nghiệp. Phương pháp của tôi kết hợp <span class=\"highlight-text\">tư duy phân tích</span> với <span class=\"highlight-text\">giải quyết vấn đề theo hướng sản phẩm</span>: từ việc hiểu nhu cầu người dùng, thiết kế giải pháp dựa trên dữ liệu, đến trực quan hóa thông tin qua dashboard và kể chuyện rõ ràng. Với kinh nghiệm trong các dự án học thuật về <span class=\"highlight-text\">AI, khai phá dữ liệu và phân tích tài chính</span>, tôi tập trung vào việc thu hẹp khoảng cách giữa công việc dữ liệu kỹ thuật và quyết định kinh doanh chiến lược. Tôi hướng tới trở thành một BDA đa năng, không chỉ hiểu dữ liệu mà còn hiểu cả kinh doanh đằng sau nó.",
        btnProjects: "Dự Án",
        btnDownloadCV: "Tải CV",
        
        // Skills Section
        skillsBadge: "Kỹ Năng Chuyên Môn",
        skillsTitle1: "Ngôn Ngữ Lập Trình",
        skillsTitle2: "Phân Tích Dữ Liệu & Machine Learning",
        skillsTitle3: "Trực Quan Hóa Dữ Liệu & Công Cụ BI",
        skillsTitle4: "Công Cụ & Môi Trường",
        
        // Projects Section
        projectsBadge: "Dự Án Nổi Bật",
        project1Title: "<span class=\"highlight\">PHÂN TÍCH RỦI RO TÍN DỤNG</span><br>DASHBOARD THÔNG TIN TÀI CHÍNH",
        project1Overview: "Tổng Quan",
        project1Desc: "Dự án phân tích tài chính nhằm xác định các yếu tố chính góp phần vào rủi ro vỡ nợ khoản vay. Dự án bao gồm thu thập và làm sạch dữ liệu tài chính khách hàng, thực hiện phân tích khám phá và tạo ra các thông tin hành động để cải thiện đánh giá tín dụng. Giao dashboard tương tác tóm tắt xu hướng vỡ nợ theo thu nhập, loại hình việc làm, lịch sử tín dụng và tỷ lệ nợ.",
        project1Tools: "Công Cụ:",
        project1Deliverables: "Sản Phẩm / Tài Liệu",
        
        project2Title: "<span class=\"highlight\">DỰ ĐOÁN KHÁCH HÀNG RỜI BỎ</span><br>MÔ HÌNH GIỮ CHÂN KHÁCH HÀNG",
        project2Desc: "Dự án machine learning phân tích hành vi khách hàng Gen Z thương mại điện tử để dự đoán khách hàng rời bỏ và đưa ra chiến lược giữ chân. Trách nhiệm bao gồm thu thập dữ liệu, kỹ thuật đặc trưng, huấn luyện mô hình, đánh giá và chuyển đổi thông tin thành khuyến nghị kinh doanh.",
        
        project3Title: "<span class=\"highlight\">SMART RIDE</span><br>NỀN TẢNG CHIA SẺ XE",
        project3Desc: "Dự án đại học mô phỏng nền tảng chia sẻ xe. Tập trung vào phân tích kinh doanh và hỗ trợ UI/UX, tạo tài liệu yêu cầu, thiết kế user stories, quy trình làm việc và mockups. Giúp đảm bảo sự phù hợp giữa nhu cầu người dùng cuối và thiết kế hệ thống.",
        
        btnMoreProjects: "Xem Thêm Trên GitHub →",
        
        // Certificates Section
        certificatesBadge: "Chứng Chỉ",
        
        // Contests Section
        contestsBadge: "Cuộc Thi",
        
        // Contact Section
        contactBadge: "Thông Tin Liên Hệ",
        contactTitle: "Hãy <span class=\"highlight\">kết nối</span> và<br><span class=\"highlight\">làm việc cùng nhau</span>!",
        contactLabelPhone: "Điện Thoại",
        contactLabelEmail: "E-mail",
        contactLabelLinkedIn: "LinkedIn",
        contactLabelGitHub: "GitHub",
        contactPlaceholderName: "Tên Của Bạn",
        contactPlaceholderEmail: "Email Của Bạn",
        contactPlaceholderMessage: "Tin Nhắn Của Bạn",
        btnSend: "Gửi Tin Nhắn",
        
        // Footer
        footerText: "© 2025 Nguyễn Thị Tuyết Nhung. Bảo lưu mọi quyền."
    }
};

// Initialize language
let currentLang = localStorage.getItem('language') || 'en';
let isTypingTitle = false;
let isTypingTagline = false;

// Update content based on language
function updateContent(lang) {
    const t = translations[lang];
    
    // Update navigation
    document.querySelectorAll('.nav-link').forEach((link, index) => {
        const keys = ['navHome', 'navAbout', 'navSkills', 'navProjects', 'navCertificates', 'navContests', 'navContact'];
        if (keys[index]) link.textContent = t[keys[index]];
    });
    
    // Update hero section
    const heroBadge = document.querySelector('.hero-badge');
    if (heroBadge) heroBadge.textContent = t.heroBadge;
    
    const heroName1 = document.querySelector('.hero-title .title-part1');
    if (heroName1) heroName1.textContent = t.heroName1;
    
    const heroName2 = document.querySelector('.hero-title .highlight');
    if (heroName2) heroName2.textContent = t.heroName2;
    
    const heroTagline = document.getElementById('heroTagline');
    if (heroTagline && !isTypingTagline) {
        // Set content directly without animation when switching language
        const displayText = t.heroTagline
            .replace(/data/g, '<span class="highlight">data</span>')
            .replace(/decisions/g, '<span class="highlight">decisions</span>')
            .replace(/business/g, '<span class="highlight">business</span>')
            .replace(/insights/g, '<span class="highlight">insights</span>')
            .replace(/dữ liệu/g, '<span class="highlight">dữ liệu</span>')
            .replace(/quyết định/g, '<span class="highlight">quyết định</span>')
            .replace(/doanh nghiệp/g, '<span class="highlight">doanh nghiệp</span>')
            .replace(/hành động/g, '<span class="highlight">hành động</span>')
            .replace(/thực tế/g, '<span class="highlight">thực tế</span>');
        heroTagline.innerHTML = displayText;
    }
    
    // Update about section
    const aboutBadge = document.querySelector('.about-badge');
    if (aboutBadge) aboutBadge.textContent = t.aboutBadge;
    
    const aboutGreeting = document.querySelector('.about-greeting h2');
    if (aboutGreeting) aboutGreeting.innerHTML = t.aboutGreeting;
    
    const aboutDesc = document.querySelector('.about-description p');
    if (aboutDesc) aboutDesc.innerHTML = t.aboutDescription;
    
    const btnOutline = document.querySelector('.btn-outline');
    if (btnOutline) btnOutline.textContent = t.btnProjects;
    
    const btnPrimary = document.querySelector('.about-actions .btn-primary');
    if (btnPrimary) btnPrimary.textContent = t.btnDownloadCV;
    
    // Update skills section
    const skillsBadge = document.querySelector('.skills-badge');
    if (skillsBadge) skillsBadge.textContent = t.skillsBadge;
    
    const skillTitles = document.querySelectorAll('.category-title .highlight');
    if (skillTitles[0]) skillTitles[0].textContent = t.skillsTitle1;
    if (skillTitles[1]) skillTitles[1].textContent = t.skillsTitle2;
    if (skillTitles[2]) skillTitles[2].textContent = t.skillsTitle3;
    if (skillTitles[3]) skillTitles[3].textContent = t.skillsTitle4;
    
    // Update projects section
    const projectsBadge = document.querySelector('.projects-badge');
    if (projectsBadge) projectsBadge.textContent = t.projectsBadge;
    
    const projectTitles = document.querySelectorAll('.project-title');
    if (projectTitles[0]) projectTitles[0].innerHTML = t.project1Title;
    if (projectTitles[1]) projectTitles[1].innerHTML = t.project2Title;
    if (projectTitles[2]) projectTitles[2].innerHTML = t.project3Title;
    
    const overviewHeaders = document.querySelectorAll('.project-section-block h4');
    overviewHeaders.forEach(h4 => {
        if (h4.textContent.trim() === 'Overview' || h4.textContent.trim() === 'Tổng Quan') {
            h4.textContent = t.project1Overview;
        }
    });
    
    const projectDescs = document.querySelectorAll('.project-section-block p:not(.tools-line)');
    if (projectDescs[0]) projectDescs[0].textContent = t.project1Desc;
    if (projectDescs[1]) projectDescs[1].textContent = t.project2Desc;
    if (projectDescs[2]) projectDescs[2].textContent = t.project3Desc;
    
    const toolsLabels = document.querySelectorAll('.tools-label');
    toolsLabels.forEach(label => label.textContent = t.project1Tools);
    
    const deliverablesHeaders = document.querySelectorAll('.project-right h4');
    deliverablesHeaders.forEach(h4 => h4.textContent = t.project1Deliverables);
    
    const btnMore = document.querySelector('.btn-more-projects');
    if (btnMore) btnMore.textContent = t.btnMoreProjects;
    
    // Update certificates section
    const certBadge = document.querySelector('.certificates-badge');
    if (certBadge) certBadge.textContent = t.certificatesBadge;
    
    // Update contests section
    const contestsBadge = document.querySelector('.contests-badge');
    if (contestsBadge) contestsBadge.textContent = t.contestsBadge;
    
    // Update contact section
    const contactBadge = document.querySelector('.contact-badge');
    if (contactBadge) contactBadge.textContent = t.contactBadge;
    
    const contactTitle = document.querySelector('.contact-title');
    if (contactTitle) contactTitle.innerHTML = t.contactTitle;
    
    const contactLabels = document.querySelectorAll('.contact-label');
    if (contactLabels[0]) contactLabels[0].textContent = t.contactLabelPhone;
    if (contactLabels[1]) contactLabels[1].textContent = t.contactLabelEmail;
    if (contactLabels[2]) contactLabels[2].textContent = t.contactLabelLinkedIn;
    if (contactLabels[3]) contactLabels[3].textContent = t.contactLabelGitHub;
    
    const nameInput = document.querySelector('#name');
    if (nameInput) nameInput.placeholder = t.contactPlaceholderName;
    
    const emailInput = document.querySelector('#email');
    if (emailInput) emailInput.placeholder = t.contactPlaceholderEmail;
    
    const messageInput = document.querySelector('#message');
    if (messageInput) messageInput.placeholder = t.contactPlaceholderMessage;
    
    const btnSend = document.querySelector('.btn-send');
    if (btnSend) btnSend.textContent = t.btnSend;
    
    // Update footer
    const footer = document.querySelector('.footer p');
    if (footer) footer.textContent = t.footerText;
    
    // Update language toggle button
    const langToggle = document.getElementById('langToggle');
    if (langToggle) {
        langToggle.textContent = lang === 'en' ? 'VN' : 'EN';
    }
}

// Toggle language
document.addEventListener('DOMContentLoaded', function() {
    // Apply saved language immediately (without animation)
    const heroTagline = document.getElementById('heroTagline');
    if (heroTagline && currentLang !== 'en') {
        // Set content directly for saved language
        updateContent(currentLang);
    }
    
    // Language toggle button
    const langToggle = document.getElementById('langToggle');
    if (langToggle) {
        langToggle.addEventListener('click', function() {
            currentLang = currentLang === 'en' ? 'vi' : 'en';
            localStorage.setItem('language', currentLang);
            updateContent(currentLang);
        });
    }
});
